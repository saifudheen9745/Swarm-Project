import{a as v,u as N,r as n,d as r,j as e,k,S}from"./index-b88c2340.js";import{a as c}from"./ToastifyAlerts-2e3f510d.js";function O(){const{sentOtpForPasswordChange:g,verifyOtpForPasswordChange:u,updatePassword:p}=v(),f=N(),[l,h]=n.useState(!1),[o,b]=n.useState(!1),[i,x]=n.useState(""),[d,y]=n.useState(""),[a,m]=n.useState({password:"",confPassword:""});return r("div",{className:"h-screen bg-gradient-to-r from-green-300 to-blue-400 flex flex-col justify-center items-center",children:[e("section",{className:"w-full h-full",style:{display:o?"none":"block"},children:r("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[r("div",{className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 ",children:[e("img",{className:"w-9 h-8 mr-2",src:"./Images/LOGO.png",alt:"logo"}),e("p",{className:"text-5xl",children:"Swarm"})]}),r("div",{className:"w-full p-6 bg-white rounded-lg shadow  md:mt-0 sm:max-w-md sm:p-8",children:[e("h2",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"Change Password"}),r("form",{onSubmit:l?async t=>{t.preventDefault();try{const s=await u({otp:d});b(!o)}catch(s){c(s.msg)}}:async t=>{t.preventDefault();try{const s=await g({email:i});h(!l)}catch(s){c(s.msg)}},className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",children:[r("div",{style:{display:l?"none":"block"},children:[e("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your email"}),e("input",{value:i,onChange:t=>x(t.target.value),type:"",name:"",id:"",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ",placeholder:"name@company.com",required:""})]}),r("div",{style:{display:l?"block":"none"},children:[e("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Otp"}),e("input",{type:"text",name:"otp",value:d,onChange:t=>y(t.target.value),id:"otp",placeholder:"Enter the otp",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ",required:""})]}),e("div",{className:"flex justify-center",children:l?e("button",{type:"submit",className:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:"Verify Otp"}):e("button",{type:"submit",className:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:"Sent Otp"})})]})]})]})}),e("section",{className:"w-full h-full",style:{display:o?"block":"none"},children:r("div",{className:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0",children:[r("p",{className:"flex items-center mb-6 text-2xl font-semibold text-gray-900 ",children:[e("img",{className:"w-9 h-8 mr-2",src:"./Images/LOGO.png",alt:"logo"}),e("p",{className:"text-5xl",children:"Swarm"})]}),r("div",{className:"w-full p-6 bg-white rounded-lg shadow  md:mt-0 sm:max-w-md sm:p-8",children:[e("h2",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl",children:"Change Password"}),r("form",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",onSubmit:async t=>{t.preventDefault();try{a.email=i;const s=await p(a);S.fire({title:"Password changed successfully ",text:"To continue, please login with the new password",icon:"success",height:"200",width:"300",confirmButtonText:"Login",showCancelButton:!1,allowOutsideClick:!1}).then(w=>{w.isConfirmed&&f("/login")})}catch(s){c(s.msg)}},children:[r("div",{children:[e("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"New Password"}),e("input",{value:a.password,onChange:t=>m({...a,[t.target.name]:t.target.value}),type:"password",name:"password",id:"password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ",required:""})]}),r("div",{children:[e("label",{htmlFor:"confirm-password",className:"block mb-2 text-sm font-medium text-gray-900",children:"Confirm password"}),e("input",{value:a.confPassword,onChange:t=>m({...a,[t.target.name]:t.target.value}),type:"confirm-password",name:"confPassword",id:"confirm-password",placeholder:"••••••••",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ",required:""})]}),e("div",{className:"flex justify-center",children:e("button",{type:"submit",className:"text-white bg-gradient-to-br from-green-400 to-blue-600 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-green-200 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2",children:"Change Password"})})]})]})]})}),e(k,{})]})}function L(){return e("div",{children:e(O,{})})}export{L as default};
