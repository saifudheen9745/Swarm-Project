import{G as q,e as S,f as F,r as o,d as a,F as z,j as e,B as M,n as B,w as L,y as D,u as I,z as G,k as O}from"./index-41fefcac.js";import{T as H,C as J,A as K}from"./AddMembersToWorkspace-5689bb93.js";import{w as P}from"./workspaceApi-37a14921.js";import{d as j}from"./ToastifyAlerts-07f02f47.js";import"./index-4d501b15.js";function Q(m){return q({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M497.408 898.56c-.08-.193-.272-.323-.385-.483l-91.92-143.664c-6.528-10.72-20.688-14.527-31.728-8.512l-8.193 5.04c-11.007 6-10.767 21.537-4.255 32.256l58.927 91.409c-5.024-1.104-10.096-2-15.056-3.296-103.184-26.993-190.495-96.832-239.535-191.6-46.336-89.52-55.04-191.695-24.512-287.743 30.512-96.048 99.775-174.464 189.295-220.784 15.248-7.888 21.2-26.64 13.312-41.856-7.872-15.264-26.64-21.231-41.855-13.327-104.272 53.952-184.4 145.28-219.969 257.152C45.982 485.008 56.11 604.033 110.078 708.29c57.136 110.336 158.832 191.664 279.024 223.136 1.36.352 2.784.56 4.16.911l-81.311 41.233c-11.008 6.032-14.657 19.631-8.128 30.351l3.152 8.176c6.56 10.72 17.84 14.527 28.815 8.512L484.622 944.4c.193-.128.385-.096.578-.224l9.984-5.456c5.52-3.024 9.168-7.969 10.624-13.505 1.52-5.52.815-11.663-2.448-16.991zm416.496-577.747c-57.056-110.304-155.586-191.63-275.762-223.118-8.56-2.24-17.311-3.984-26.048-5.712l79.824-40.48c11.008-6.033 17.568-19.632 11.04-30.369l-3.153-8.16c-6.56-10.736-20.752-14.528-31.727-8.528L519.262 80.654c-.176.112-.384.08-.577.208l-9.967 5.472c-5.537 3.04-9.168 7.967-10.624 13.503-1.52 5.52-.816 11.648 2.464 16.976l5.92 9.712c.096.192.272.305.384.497l91.92 143.648c6.512 10.736 20.688 14.528 31.712 8.513l7.216-5.025c11.008-6 11.727-21.536 5.231-32.24l-59.2-91.856c13.008 2 25.968 4.416 38.624 7.76 103.232 27.04 187.393 96.864 236.4 191.568 46.32 89.519 55.024 191.695 24.48 287.728-30.511 96.047-96.655 174.448-186.174 220.816-15.233 7.887-21.168 26.607-13.28 41.87 5.519 10.64 16.335 16.768 27.599 16.768 4.8 0 9.664-1.12 14.272-3.488 104.272-53.936 181.248-145.279 216.816-257.119 35.536-111.904 25.393-230.929-28.574-335.152z"}}]})(m)}function U(m){const[k,v]=m.data,{createWorkspace:w}=P(),{userId:p}=S(F),[N,g]=o.useState(!1),[s,u]=o.useState(""),[l,f]=o.useState({theme:"#fff",name:"",master:p}),h=d=>{f({...l,theme:d.hex})},C=d=>{f({...l,name:d.target.value})},y=async()=>{if(!l.name.trim()){u("Provide a name for workspace");return}try{await w(l)&&(v(!k),g(!1))}catch(d){console.log(d)}};return a(z,{children:[a("button",{className:"text-gray-900 mt-7 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-teal-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2 flex gap-5",type:"button",onClick:()=>g(!0),children:[e(M,{className:"text-2xl "}),e("span",{className:"hidden md:block",children:"Create Workspace"})]}),N?a(z,{children:[e("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none ",children:e("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:a("div",{className:"border-0 rounded-lg  relative flex flex-col  bg-white dark:bg-slate-800 outline-none focus:outline-none shadow-lg shadow-slate-300 dark:shadow-slate-900 w-full",children:[a("div",{className:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t",children:[e("h3",{className:"text-3xl font-extrabold text-slate-900 dark:text-white ",children:"Create a Workspace "}),e("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>g(!1),children:e("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"Ã—"})})]}),a("div",{className:"relative p-6 flex-auto",children:[a("div",{children:[e("label",{htmlFor:"helper-text",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Workspace Name"}),e("input",{type:"email",id:"helper-text",name:"workspaceName",value:l.name,"aria-describedby":"helper-text-explanation",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-50 0",placeholder:"Eg: cross-origin-platform",onChange:C}),e("p",{className:"text-red-700 h-5",children:s})]}),a("div",{children:[e("label",{htmlFor:"helper-text",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Select a theme"}),l.color!=="#fff"?a("div",{className:"flex gap-5",children:[e("p",{className:"p-5 h-16 w-16 rounded-full",style:{background:`${l.color}`}}),e("p",{className:"text-xl font-bold mt-3",style:{color:`${l.theme}`},children:"selected Colour"})]}):"",e(H,{color:l.color,onChange:h})]})]}),a("div",{className:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:[e("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>g(!1),children:"Close"}),e("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:y,children:"Create Workspace"})]})]})})}),e("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null]})}const re=()=>{const{projectCreationSuccess:m}=B(),{getWorkspaces:k,getSelectedWorkspace:v}=P(),{createProject:w}=L(),p=S(D),{userId:N,email:g}=S(F),[s,u]=o.useState("workspace"),[l,f]=o.useState(),[h,C]=o.useState(),[y,d]=o.useState(!1),A=I(),[t,n]=o.useState({workspace:"",name:"",description:"",theme:"",from:"",to:"",members:[g]}),W=r=>{const i=r.target.value,c=t.members.indexOf(i);n(c===-1?b=>({...b,members:[...b.members,i]}):b=>({...b,members:[...b.members.slice(0,c),...b.members.slice(c+1)]}))},R=async()=>{try{const r=await k(N);f(r.data)}catch(r){console.log(r)}},_=async r=>{var i;try{const c=await v(r);C((i=c==null?void 0:c.data)==null?void 0:i.members)}catch{}};o.useEffect(()=>{R()},[y]),o.useEffect(()=>{p.dark?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[p]);const $=async()=>{try{const r=await w(t);m()}catch(r){j(r.msg)}},[x,E]=o.useState({color:"#fff"}),T=r=>{E({...x,color:r.hex}),n({...t,theme:r.hex})};return a("div",{className:"dark:bg-slate-900 min-h-screen  dark:text-white text-slate-900 md:p-8 p-5 w-full",children:[e("div",{children:e(G,{className:"text-4xl hover:text-slate-900  hover:bg-white hover:rounded-full cursor-pointer ",onClick:()=>{A(-1)}})}),a("div",{className:"text-center",children:[e("h1",{className:"mb-1 text-2xl font-extrabold leading-none tracking-tight text-gray-900 md:text-3xl lg:text-5xl dark:text-slate-200 text-center",children:"From Idea to Reality"}),a("p",{className:"mb-6 text-lg font-normal text-gray-500 lg:text-xl sm:px-16 xl:px-48 mt-3 dark:text-gray-400",children:[" ","Crafting a  "," ",e("span",{className:"text-orange-400 font-extrabold",children:"Revolutionary "}),"Project That Will Change the Game"]})]}),e("div",{className:"flex justify-center items center ",children:a("div",{className:"w-5/6 bg-white border border-gray-300 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 ",children:[a("div",{className:"sm:hidden",children:[e("label",{htmlFor:"tabs",className:"sr-only",children:"Select tab"}),a("select",{id:"tabs",className:"bg-gray-50 border-0 border-b border-gray-200 text-gray-900 text-sm rounded-t-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[e("option",{children:"Select a workspace"}),e("option",{children:"Add Project"}),e("option",{children:"Enlist"})]})]}),a("ul",{className:"hidden text-sm font-medium text-center text-gray-500 divide-x divide-gray-200 rounded-lg sm:flex dark:divide-gray-600 dark:text-gray-400",id:"fullWidthTab","data-tabs-toggle":"#fullWidthTabContent",role:"tablist",children:[e("li",{className:"w-full",children:e("button",{id:"stats-tab","data-tabs-target":"#stats",type:"button",role:"tab","aria-controls":"stats","aria-selected":"true",className:`inline-block w-full p-4 rounded-tl-lg  hover:bg-gray-100 focus:outline-none text-lg  dark:hover:bg-gray-600 ${s==="workspace"?"dark:bg-gray-900 bg-gray-300 ":"dark:bg-gray-700 bg-gray-50"}`,value:"workspace",children:"Select a workspace"})}),e("li",{className:"w-full",children:e("button",{id:"about-tab","data-tabs-target":"#about",type:"button",role:"tab","aria-controls":"about","aria-selected":"false",className:`inline-block w-full p-4    hover:bg-gray-100 focus:outline-none text-lg  dark:hover:bg-gray-600 ${s==="project"?"dark:bg-gray-900 bg-gray-300 ":"dark:bg-gray-700 bg-gray-50"}`,children:"Add Project"})}),e("li",{className:"w-full",children:e("button",{id:"faq-tab","data-tabs-target":"#faq",type:"button",role:"tab","aria-controls":"faq","aria-selected":"false",className:`inline-block w-full p-4 rounded-tr-lg  hover:bg-gray-100 focus:outline-none text-lg  dark:hover:bg-gray-600 ${s==="enlist"?"dark:bg-gray-900 bg-gray-300 ":"dark:bg-gray-700 bg-gray-50"}`,children:"Enlist"})})]}),a("div",{id:"fullWidthTabContent",className:"border-t border-gray-300 dark:border-gray-600",children:[a("div",{className:`p-4 bg-white rounded-lg md:p-8 dark:bg-gray-800  ${s==="workspace"?"block":"hidden"}`,id:"stats",role:"tabpanel","aria-labelledby":"stats-tab",children:[e("form",{action:"",className:"md:flex  justify-center",children:a("div",{className:"grid grid-cols-3 gap-10",children:[a("div",{className:"col-span-2",children:[e("label",{htmlFor:"countries",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"select a workspace"}),a("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm  focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",onChange:r=>n({...t,workspace:r.target.value}),children:[e("option",{selected:!0,disabled:!0,children:"Choose a Workspace"}),l==null?void 0:l.ownedWorkspaces.map((r,i)=>e("option",{value:r._id,children:r==null?void 0:r.name},i))]})]}),e("div",{className:"",children:e(U,{data:[y,d]})})]})}),e("div",{className:"text-center mt-10",children:e("button",{type:"button",className:"py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border   hover:bg-gray-300 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 border-slate-900 ",onClick:()=>{t.workspace==""?j("Please choose a workspace"):u("project")},children:"Next"})})]}),e("div",{className:`p-4 h-2/4 rounded-lg md:p-8 dark:bg-gray-800   ${s==="project"?"block  transition delay-300":"hidden"}`,id:"about",role:"tabpanel","aria-labelledby":"about-tab",children:e("div",{className:"md:mx-44 transition duration-700 ease-in-out ",children:a("form",{children:[a("div",{className:"relative z-0 w-full mb-6 group",children:[e("input",{type:"email",name:"floating_email",id:"floating_email",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",onChange:r=>n({...t,name:r.target.value}),required:!0}),e("label",{htmlFor:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Project Name"})]}),a("div",{className:"",children:[a("div",{className:"relative z-0 w-full mb-6 group",children:[e("textarea",{type:"text",name:"floating_first_name",id:"floating_first_name",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,onChange:r=>n({...t,description:r.target.value})}),e("label",{htmlFor:"floating_first_name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Project discription"})]}),a("div",{className:"grid lg:grid-cols-2 gap-4 md:m1 ",children:[a("div",{children:[e("p",{className:"text-lg font-semibold m-1 text-blue-900 dark:text-white",children:"Select a theme"}),a("div",{children:[x.color?e("p",{className:"h-5  w-2/3 my-5",style:{background:`${x.color}`}}):"",e(J,{color:x.color,onChange:T})]})]}),a("div",{children:[e("p",{className:"text-lg font-semibold m-0 text-blue-900 dark:text-white mt-0 md:mt-0",children:"Add a due date"}),a("div",{className:" md:flex gap-5 text-center",children:[e("input",{type:"date",className:"dark:bg-gray-800 border h-12 p-3 border-slate-900",onChange:r=>n({...t,from:r.target.value})}),e("h1",{className:"font-extrabold mt-4 ",children:"To "}),e("input",{type:"date",className:"dark:bg-gray-800 border border-slate-900 h-12 p-3",onChange:r=>n({...t,to:r.target.value})})]})]})]})]})]})})}),a("div",{className:`text-center ${s=="project"?"block":"hidden"}`,children:[e("button",{type:"button",className:"border-slate-900  py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border 0 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",onClick:()=>{u("workspace")},children:"Prev"}),e("button",{type:"button",className:"py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg  border-slate-900 border hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",onClick:()=>{t.name==""||t.description==""||t.theme==""||t.to==""||t.from==""?j("All fields must be filled"):u("enlist")},children:"Next"})]}),e("div",{className:`p-4 bg-white rounded-lg md:p-4 dark:bg-gray-800  overflow-hidden ${s==="enlist"?"block transition-all duration-1000 delay-500":"hidden"}`,id:"enlist",role:"tabpanel","aria-labelledby":"faq-tab",children:a("div",{children:[e(K,{data:t.workspace}),e("p",{className:"text-end my-4 ",children:e("button",{type:"button",class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-full text-sm px-5 py-2.5 mr-2  dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",onClick:()=>_(t.workspace),children:a("div",{className:"flex justify-center items-center gap-2",children:[e("span",{children:e(Q,{})}),e("span",{children:"Refresh"})]})})}),a("div",{id:"",className:"  bg-white rounded-lg shadow  dark:bg-gray-700 border border-gray-300",children:[a("div",{className:"p-3",children:[e("label",{htmlFor:"input-group-search",className:"sr-only",children:"Search"}),a("div",{className:"relative",children:[e("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e("svg",{className:"w-5 h-5 text-gray-500 dark:text-gray-400","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e("input",{type:"text",id:"input-group-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5  dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search user"})]})]}),e("ul",{className:"h-48 overflow-y-scroll px-3 pb-3 text-sm text-gray-700 dark:text-gray-200 grid md:grid-cols-2 lg:grid-cols-3 md:gap-5","aria-labelledby":"dropdownSearchButton ",children:h==null?void 0:h.map(r=>a("li",{className:"",children:[r.status=="pending"||(r==null?void 0:r.status)=="declined"?e("input",{disabled:!0,type:"checkbox",id:r.email,value:r.email,className:"hidden peer ",required:"",onClick:W}):e("input",{type:"checkbox",id:r.email,value:r.email,className:"hidden peer",required:"",onClick:W}),e("label",{htmlFor:r.email,className:"break-all inline-flex items-center justify-between w-full p-3 text-gray-500 bg-gray-200 border-2 border-gray-300  cursor-pointer dark:hover:text-gray-200 dark:border-gray-600 peer-checked:border-green-600 hover:text-gray-600 dark:peer-checked:text-green-400 peer-checked:text-gray-900 hover:bg-gray-300 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-900",children:e("div",{className:"flex items-center justify-center gap-3",children:e("div",{className:"md:text-lg font-semibold",children:r.email})})})]},r.email))})]}),a("div",{className:"text-center mt-4",children:[e("button",{type:"button",className:"py-2.5 px-5 mr-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",onClick:()=>{u("project")},children:"Prev"}),e("button",{type:"button",className:"py-2.5 px-5 mr-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",onClick:$,children:"Finish"})]})]})})]})]})}),e(O,{})]})};export{re as default};
